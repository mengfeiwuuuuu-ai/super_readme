# RK3568与RK3576平台Thermal温控阈值分析报告

**文档信息**

* **作者：** mengfei.wu
* **日期：** 2026-02-25
* **版本：** V1.0

**修改记录**

| 版本 | 日期 | 修改人 | 修改说明 |
| --- | --- | --- | --- |
| V1.0 | 2026-02-25 | mengfei.wu | 初始版本，建立RK3568与RK3576温控阈值分析基线 |

---

## 1. 概述

本文档基于设备树（DTS/DTSI）配置参数及Rockchip官方Thermal开发指南，针对RK3568与RK3576平台的温度控制（Thermal）机制进行深度剖析。文档重点对比分析了两个平台在被动降频（Passive）和临界保护（Critical）机制下的温度阈值及底层策略差异，为后续的系统散热设计与性能调优提供参考依据。

## 2. 核心温控阈值对比

系统温度控制策略围绕三个关键节点展开：触发阈值、目标温度和临界重启阈值。两款平台的阈值对比详情如下：

| 平台 | 温控触发阈值 (Threshold) | 降频目标温度 (Target) | 临界重启阈值 (Critical) | 温控策略生效模块 |
| --- | --- | --- | --- | --- |
| **RK3568** | 75°C (75000) | 85°C (85000) | 105°C (105000) | 统一管控 (soc_thermal) |
| **RK3576** | 75°C (75000) | 85°C (85000) | 125°C (125000) | 独立分区 (大核, 小核, GPU, NPU, DDR等) |

## 3. 阈值参数与工作机制详解

Rockchip平台默认采用 `power_allocator` 温控策略，该策略引入了PID（比例-积分-微分）算法，旨在根据当前温度动态分配各模块功耗。具体的温度阈值（trip-points）及其工作机制如下：

### 3.1 温控触发阈值 (Threshold / trip-point-0)

* **设定值：** 75°C (75000毫摄氏度)
* **机制说明：** 当芯片温度达到75°C时，系统的温控策略开始积极介入。框架会大幅缩短获取温度的时间间隔（切入 `polling-delay-passive` 状态），进行高频监测。值得注意的是，达到此温度并不意味着系统会立刻强制降频，而是开始根据当前设定的 sustainable-power 池动态计算后续的分配额度。

### 3.2 降频目标温度 (Target / trip-point-1)

* **设定值：** 85°C (85000毫摄氏度)
* **机制说明：** 85°C是系统期望芯片维持的最高工作温度上限。随着温度逼近甚至越过此节点，系统分配给各个 Cooling Device（如CPU、GPU）的 power 预算将显著减小。随之而来的直接表现是各模块的运行频率会被逐步、阶梯式地限制，通过降低性能输出来强制压制发热。

### 3.3 过温保护重启阈值 (Critical / soc_crit)

* **设定值：** RK3568 设定为 105°C (105000毫摄氏度)；RK3576 设定为 125°C (125000毫摄氏度)。
* **机制说明：** 这一阈值是保护芯片免受物理级热损伤的最后防线。如果应用层的负载过高且外部散热条件极差，导致软件级的降频策略（Cooling maps）未能有效控制热量，芯片温度一旦突破此极限，Thermal framework 将触发系统级的紧急关机或重启。同时，底层的硬件温度传感器（TSADC）也会直接触发硬件复位信号（`hw-tshut-temp`），双管齐下保障硬件安全。

## 4. 平台温控策略差异分析

尽管两款平台在降频介入和目标控制区间（75°C ~ 85°C）内保持了高度的代际一致性，但在整体热管理架构的精细度及硬件耐温设定上有着显著的进化：

1. **耐热极限的大幅提升：** RK3576 展现出了更为激进的耐高温冗余设计。其 Critical 临界重启阈值从 RK3568 的 105°C 宽幅提升至 125°C。这赋予了系统在恶劣工业环境、极端高负载或被动散热设计下更大的生存与工作宽容度。
2. **温控管控粒度的细分化：** RK3568 的设备树主要依赖 `soc_thermal` 进行全局式的粗粒度温度统筹。而 RK3576 实现了热管理区域的高度碎片化与精准化，针对 SoC 全局、大核簇（bigcore）、小核簇（little_core）、GPU、NPU 及 DDR 均划分了独立的热区（Thermal Zone）。这种分区设计允许系统只对局部过热的特定 IP 核进行靶向降频，而不会连带影响其他非发热模块的满血性能释放。